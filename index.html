<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IWRC Seed Fund Tracking & Analysis System</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-teal: #258372;
            --secondary-olive: #639757;
            --dark-teal: #1a5f52;
            --light-teal: #3fa890;
            --accent-peach: #FCC080;
            --text-dark: #54595F;
            --text-light: #7a7a7a;
            --background: #f8f9fa;
            --card-bg: #ffffff;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.12);
            --shadow-lg: 0 8px 32px rgba(37, 131, 114, 0.2);
            --border-radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: var(--background);
            color: var(--text-dark);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Header Styles */
        .header {
            background: linear-gradient(135deg, var(--primary-teal) 0%, var(--dark-teal) 100%);
            color: white;
            padding: 3rem 2rem;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg width="100" height="100" xmlns="http://www.w3.org/2000/svg"><defs><pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse"><path d="M 40 0 L 0 0 0 40" fill="none" stroke="rgba(255,255,255,0.05)" stroke-width="1"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
            opacity: 0.3;
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .logo {
            width: 80px;
            height: auto;
            background: white;
            padding: 12px;
            border-radius: 12px;
            box-shadow: var(--shadow-md);
        }

        .header h1 {
            font-size: clamp(1.8rem, 4vw, 2.8rem);
            font-weight: 700;
            margin-bottom: 0.5rem;
            letter-spacing: -0.02em;
        }

        .header .subtitle {
            font-size: clamp(1rem, 2vw, 1.3rem);
            font-weight: 300;
            opacity: 0.95;
            margin-bottom: 2.5rem;
        }

        /* Stats Bar */
        .stats-bar {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: 1.5rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-item {
            text-align: center;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(10px);
            transition: var(--transition);
        }

        .stat-item:hover {
            background: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .stat-value {
            font-size: clamp(2rem, 4vw, 2.8rem);
            font-weight: 700;
            display: block;
            line-height: 1;
        }

        .stat-label {
            font-size: 0.85rem;
            opacity: 0.9;
            margin-top: 0.5rem;
            font-weight: 400;
            line-height: 1.3;
        }

        /* Main Content */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .intro {
            text-align: center;
            margin-bottom: 3rem;
            animation: fadeInUp 0.6s ease-out;
        }

        .intro h2 {
            color: var(--dark-teal);
            font-size: clamp(1.8rem, 3vw, 2.4rem);
            margin-bottom: 1rem;
            font-weight: 600;
        }

        .intro p {
            font-size: 1.1rem;
            color: var(--text-light);
            line-height: 1.8;
            max-width: 900px;
            margin: 0 auto;
        }

        /* Navigation Grid */
        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .nav-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            text-decoration: none;
            color: inherit;
            display: flex;
            flex-direction: column;
            height: 100%;
            position: relative;
        }

        .nav-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-teal), var(--light-teal));
            transform: scaleX(0);
            transition: var(--transition);
        }

        .nav-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-lg);
        }

        .nav-card:hover::before {
            transform: scaleX(1);
        }

        .nav-card-header {
            padding: 2rem;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-bottom: 1px solid #e9ecef;
        }

        .nav-card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            display: block;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        .nav-card h3 {
            font-size: 1.5rem;
            color: var(--dark-teal);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .nav-card-description {
            color: var(--text-light);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        .nav-card-body {
            padding: 1.5rem 2rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .nav-card-features {
            list-style: none;
            flex-grow: 1;
        }

        .nav-card-features li {
            padding: 0.6rem 0;
            padding-left: 1.8rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            position: relative;
            line-height: 1.5;
        }

        .nav-card-features li::before {
            content: "‚úì";
            color: var(--primary-teal);
            font-weight: 700;
            position: absolute;
            left: 0;
            font-size: 1.1rem;
        }

        /* Quick Links */
        .quick-links {
            background: white;
            border-radius: var(--border-radius);
            padding: 2.5rem;
            box-shadow: var(--shadow-sm);
            margin-bottom: 2rem;
        }

        .quick-links h3 {
            color: var(--dark-teal);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
            font-weight: 600;
        }

        .quick-links-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .quick-link-item {
            background: var(--background);
            padding: 1.5rem;
            border-radius: 12px;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .quick-link-item:hover {
            background: white;
            border-color: var(--primary-teal);
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }

        .quick-link-item a {
            color: var(--dark-teal);
            text-decoration: none;
            font-weight: 600;
            font-size: 1.05rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        .quick-link-desc {
            color: var(--text-light);
            font-size: 0.85rem;
            line-height: 1.4;
        }

        /* Footer */
        .footer {
            background: white;
            padding: 2.5rem;
            text-align: center;
            color: var(--text-light);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow-sm);
        }

        .footer p {
            margin: 0.5rem 0;
        }

        .footer strong {
            color: var(--dark-teal);
        }

        /* Loading State */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                padding: 2rem 1rem;
            }

            .container {
                padding: 2rem 1rem;
            }

            .nav-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .stats-bar {
                grid-template-columns: repeat(2, 1fr);
            }

            .quick-links {
                padding: 1.5rem;
            }

            .quick-links-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Update indicator */
        .last-updated {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(37, 131, 114, 0.1);
            border-radius: 20px;
            font-size: 0.85rem;
            color: var(--dark-teal);
            margin-top: 1rem;
        }

        .update-dot {
            width: 8px;
            height: 8px;
            background: var(--primary-teal);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo-container">
                <img src="assets/branding/logos/IWRC_Logo.svg" alt="IWRC Logo" class="logo">
                <div>
                    <h1>Illinois Water Resources Center</h1>
                    <p class="subtitle">Seed Fund Tracking & Analysis System</p>
                </div>
            </div>

            <div class="stats-bar" id="stats-bar">
                <div class="stat-item">
                    <span class="stat-value"><span class="loading"></span></span>
                    <span class="stat-label">Projects<br><span id="data-period">Loading...</span></span>
                </div>
                <div class="stat-item">
                    <span class="stat-value"><span class="loading"></span></span>
                    <span class="stat-label">Total Investment<br>(10 Years)</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value"><span class="loading"></span></span>
                    <span class="stat-label">Students Supported<br><span id="data-period-2">Loading...</span></span>
                </div>
                <div class="stat-item">
                    <span class="stat-value"><span class="loading"></span></span>
                    <span class="stat-label">Illinois Institutions<br>Funded</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container">
        <div class="intro">
            <h2>Welcome to the IWRC Seed Fund Repository</h2>
            <p>
                This comprehensive repository contains all data, analysis, reports, and visualizations for the
                Illinois Water Resources Center Seed Fund program. Navigate through our organized sections below
                to access executive summaries, detailed reports, interactive dashboards, source data, and analysis code.
            </p>
            <div class="last-updated">
                <span class="update-dot"></span>
                <span id="last-updated-text">Loading update information...</span>
            </div>
        </div>

        <!-- Navigation Cards -->
        <div class="nav-grid" id="nav-grid">
            <!-- Cards will be dynamically loaded -->
            <div style="grid-column: 1/-1; text-align: center; padding: 3rem;">
                <div class="loading" style="border-color: var(--primary-teal); border-top-color: transparent; width: 40px; height: 40px;"></div>
                <p style="margin-top: 1rem; color: var(--text-light);">Loading navigation...</p>
            </div>
        </div>

        <!-- Quick Links -->
        <div class="quick-links">
            <h3>üöÄ Quick Access</h3>
            <div class="quick-links-grid" id="quick-links-grid">
                <!-- Quick links will be dynamically loaded -->
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p><strong>Illinois Water Resources Center (IWRC)</strong></p>
            <p>Seed Fund Tracking & Analysis System</p>
            <p style="margin-top: 1rem; font-size: 0.9em;" id="footer-info">
                Loading...
            </p>
            <p style="font-size: 0.85em; margin-top: 0.5rem; opacity: 0.8;">
                Repository dynamically updated ‚Ä¢ Modern navigation interface
            </p>
        </div>
    </div>

    <!-- Dynamic Data Loading Script -->
    <script>
        // Embedded repository metadata (auto-generated - do not edit manually)
        const REPO_METADATA = {
  "lastUpdated": "2025-11-28",
  "stats": {
    "projects": 77,
    "totalInvestment": "$8.5M",
    "students": 304,
    "institutions": 14,
    "dataPeriod": "2015-2024"
  },
  "navigation": [
    {
      "id": "deliverables",
      "title": "Deliverables",
      "icon": "üìä",
      "path": "deliverables_final/",
      "description": "Reports, visualizations, and all final outputs",
      "features": [
        "87+ files organized in 5 categories",
        "Executive & detailed PDF reports",
        "Static & interactive visualizations",
        "Excel data files & archive"
      ]
    },
    {
      "id": "data",
      "title": "Data",
      "icon": "üìÅ",
      "path": "data/",
      "description": "Source files and consolidated datasets",
      "features": [
        "Original FY reports (2015-2024)",
        "Consolidated tracking database",
        "Analysis output files",
        "GeoJSON for mapping"
      ]
    },
    {
      "id": "analysis",
      "title": "Analysis",
      "icon": "üî¨",
      "path": "analysis/",
      "description": "Jupyter notebooks and Python scripts",
      "features": [
        "8 analysis Jupyter notebooks",
        "42 Python generation scripts",
        "ROI calculations & visualizations",
        "Automated report generation"
      ]
    },
    {
      "id": "assets",
      "title": "Assets",
      "icon": "üé®",
      "path": "assets/",
      "description": "Branding, logos, fonts, and styles",
      "features": [
        "IWRC logos (PNG & SVG)",
        "Montserrat fonts (Regular & Bold)",
        "Complete branding guidelines",
        "Shared CSS theme"
      ]
    },
    {
      "id": "docs",
      "title": "Documentation",
      "icon": "üìö",
      "path": "docs/",
      "description": "Guides, methodology, and technical docs",
      "features": [
        "Analysis methodology",
        "Data dictionary",
        "User guides & tutorials",
        "Technical documentation"
      ]
    },
    {
      "id": "readme",
      "title": "Repository Info",
      "icon": "üìñ",
      "path": "README.md",
      "description": "README and project overview",
      "features": [
        "Project overview",
        "Repository structure",
        "Getting started guide",
        "Contact information"
      ]
    },
    {
      "id": "admin",
      "title": "Admin",
      "icon": "‚öôÔ∏è",
      "path": "admin/",
      "description": "Project documentation and guides",
      "features": [
        "Claude documentation",
        "Corrected files index",
        "Reorganization summary",
        "Project history"
      ]
    },
    {
      "id": "archive",
      "title": "Archive",
      "icon": "üì¶",
      "path": "deliverables_archive_20251128/",
      "description": "Previous deliverables version (Nov 2024)",
      "features": [
        "Historical deliverables",
        "Previous reports & visualizations",
        "Legacy documentation",
        "Version reference"
      ]
    }
  ],
  "quickLinks": [
    {
      "title": "Deliverables Hub",
      "url": "deliverables_final/index.html",
      "description": "Interactive navigation for all deliverables"
    },
    {
      "title": "Executive Summary PDF",
      "url": "deliverables_final/1_Executive_Reports/IWRC_Executive_Summary_All_Projects.pdf",
      "description": "High-level program overview"
    },
    {
      "title": "Deep Dive Analysis",
      "url": "deliverables_final/2_Detailed_Reports/IWRC_Analysis_Deep_Dive.pdf",
      "description": "Comprehensive detailed report"
    },
    {
      "title": "Main Dataset",
      "url": "deliverables_final/3_Data_Files/IWRC_ROI_Analysis_Summary_CORRECTED.xlsx",
      "description": "ROI analysis and tracking data"
    }
  ]
};

        // Load repository metadata dynamically
        async function loadRepositoryData() {
            try {
                // Try to fetch from JSON file first (works when served via HTTP)
                const response = await fetch('config/repo-metadata.json');
                if (response.ok) {
                    const data = await response.json();
                    loadData(data);
                    return;
                }
            } catch (error) {
                // Fetch failed (likely file:// protocol), use embedded data
                console.log('Using embedded metadata (file:// protocol detected)');
            }

            // Use embedded metadata as fallback
            loadData(REPO_METADATA);
        }

        function loadData(data) {
            // Update stats
            updateStats(data.stats);

            // Update navigation cards
            updateNavigationCards(data.navigation);

            // Update quick links
            updateQuickLinks(data.quickLinks);

            // Update footer
            updateFooter(data.lastUpdated, data.stats.dataPeriod);
        }

        function updateStats(stats) {
            const statsBar = document.getElementById('stats-bar');
            statsBar.innerHTML = `
                <div class="stat-item">
                    <span class="stat-value">${stats.projects}</span>
                    <span class="stat-label">Projects<br>(${stats.dataPeriod})</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">${stats.totalInvestment}</span>
                    <span class="stat-label">Total Investment<br>(10 Years)</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">${stats.students}</span>
                    <span class="stat-label">Students Supported<br>(${stats.dataPeriod})</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">${stats.institutions}</span>
                    <span class="stat-label">Illinois Institutions<br>Funded</span>
                </div>
            `;
        }

        function updateNavigationCards(navigation) {
            const navGrid = document.getElementById('nav-grid');
            navGrid.innerHTML = navigation.map(item => `
                <a href="${item.path}" class="nav-card">
                    <div class="nav-card-header">
                        <div class="nav-card-icon">${item.icon}</div>
                        <h3>${item.title}</h3>
                        <p class="nav-card-description">${item.description}</p>
                    </div>
                    <div class="nav-card-body">
                        <ul class="nav-card-features">
                            ${item.features.map(feature => `<li>${feature}</li>`).join('')}
                        </ul>
                    </div>
                </a>
            `).join('');
        }

        function updateQuickLinks(links) {
            const quickLinksGrid = document.getElementById('quick-links-grid');
            quickLinksGrid.innerHTML = links.map(link => `
                <div class="quick-link-item">
                    <a href="${link.url}">${link.title}</a>
                    <p class="quick-link-desc">${link.description}</p>
                </div>
            `).join('');
        }

        function updateFooter(lastUpdated, dataPeriod) {
            document.getElementById('footer-info').innerHTML =
                `Last Updated: ${formatDate(lastUpdated)} | Data Period: ${dataPeriod}`;
            document.getElementById('last-updated-text').textContent =
                `Last updated ${formatDate(lastUpdated)}`;
        }

        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric'
            });
        }

        // Load data when page loads
        document.addEventListener('DOMContentLoaded', loadRepositoryData);
    </script>
</body>
</html>
